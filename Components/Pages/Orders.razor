@page "/orders"
@using PraktikaApp.Models
@using PraktikaApp.Data
@inject OrderService Service

<PageTitle>–ó–∞–∫–∞–∑—ã</PageTitle>

<h1>üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h1>

<p>–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–∫–∞–∑—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.</p>

@if (orders == null)
{
    <p><em>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</em></p>
}
else
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</th>
                <th>–°—É–º–º–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in orders)
            {
                <tr>
                    <td>@item.Id</td>
                    <td><strong>@item.CustomerName</strong></td>
                    <td>@item.CustomerPhone</td>
                    <td>@item.OrderDate</td>
                    <td>@item.TotalAmount</td>
                    <td>@item.Status</td>
                </tr>
            }
        </tbody>
    </table>
}

@code {
    private List<Order> orders;

    protected override void OnInitialized()
    {
        orders = Service.GetAllOrders();
    }
}